<!DOCTYPE HTML>
<html>
	<head>
		<title>hit the spot</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />

		<link href='//fonts.googleapis.com/css?family=Raleway:400,300,600' rel='stylesheet' type='text/css'>

		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/skeleton-css@2.0.4/css/normalize.min.css">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/getskeleton@2.0.4-2/lib/css/skeleton.min.css">

		<script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/dayjs@1.11.10/dayjs.min.js"></script>
		<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/axios@1.6.2/dist/axios.min.js"></script>

		<style>
			iframe {width:100%;border:none;}
			ul {list-style: none;}
		</style>
	</head>
	<body>
		<div class="section hero">
			<div class="container">
			  <div class="row">
				<div class="one-half column">
				  <h4 class="hero-heading">HIT THE SPOT</h4>
				</div>				
			  </div>
			</div>
		</div>

		<div class="section">
			<div id="wrap" class="container">
				<div class="section">
					<div class="row">
							<div class="one column">
								<label for="searchword">filter</label>
							</div>
							<div class="eight columns">
								<input class="u-full-width" type="text" placeholder="type enter" id="searchword" v-model="searchtext" @keyup.enter="fn_add()">
							</div>
							<div class="two columns">
								<a class="button" href="javascript:void(0)" @click="fn_add()">add filter</a>
							</div>
					</div>
					<div class="row">
						<div class="twelve columns">
							<a v-for="(tag,idx) in tags" class="button" style="margin-right: 0.5em;" @click="fn_remove(tag)">{{tag}}</a>
						</div>
					</div>
				</div>
				<hr/>
				<div class="section">
					<ul>
						<li class="card"  v-for="item in list">
							<div class="row">
								<h5>{{item.name}} <a :href="item.instagram" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path d="M19.5 24h-15A4.505 4.505 0 0 1 0 19.5v-15C0 2.019 2.019 0 4.5 0h15C21.981 0 24 2.019 24 4.5v15c0 2.481-2.019 4.5-4.5 4.5zM4.5 1C2.57 1 1 2.57 1 4.5v15C1 21.43 2.57 23 4.5 23h15c1.93 0 3.5-1.57 3.5-3.5v-15C23 2.57 21.43 1 19.5 1z"/><path d="M12 18c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6zm0-11c-2.757 0-5 2.243-5 5s2.243 5 5 5 5-2.243 5-5-2.243-5-5-5zM18.5 7c-.827 0-1.5-.673-1.5-1.5S17.673 4 18.5 4s1.5.673 1.5 1.5S19.327 7 18.5 7zm0-2a.5.5 0 1 0 0 1 .5.5 0 0 0 0-1z"/></svg></a></h5>
								
							</div>
							<div class="row">
								<a class="button" style="margin-right: 0.5em;" v-for="tag in item.tags" @click="fn_filter(tag)">{{tag}}</a>
							</div>
							<ul >
								<li>{{item.address}}</li>
							</ul>
							
						</li>
					</ul>
				</div>
			</div>
		</div>

		<script type="text/javascript">
			const app = Vue.createApp({
				data() {
					return {
						list:[],
						searchtext: '',
						tags:[]
					}
				},
				methods: {
					fn_add: function () {
						this.tags.push(this.searchtext);
						this.tags = _.uniqBy(this.tags);
						this.searchtext = '';
					},
					fn_remove: function (tag) {						
						this.tags = _.pull(this.tags, tag);
					},
					fn_filter: function (tag) {
						this.tags.push(tag);
						this.tags = _.uniqBy(this.tags);
					}
				},
				mounted() {
					this.list = axios.get('../data/fav.json').then(res => {
						this.list = res.data;
					});
				}
			}).mount('#wrap');
		</script>
	</body>
</html>